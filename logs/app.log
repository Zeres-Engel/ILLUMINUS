2025-06-06 10:00:16.970 | INFO     | app:startup_event:231 - Starting ILLUMINUS Wave2Lip application...
2025-06-06 10:00:16.981 | INFO     | app:startup_event:249 - Application startup completed
2025-06-06 10:00:22.425 | INFO     | app:shutdown_event:254 - Shutting down ILLUMINUS Wave2Lip application...
2025-06-06 10:00:22.425 | INFO     | app:shutdown_event:262 - Application shutdown completed
2025-06-06 10:00:26.775 | INFO     | app:startup_event:231 - Starting ILLUMINUS Wave2Lip application...
2025-06-06 10:00:26.790 | INFO     | app:startup_event:249 - Application startup completed
2025-06-06 10:00:30.518 | INFO     | app:shutdown_event:254 - Shutting down ILLUMINUS Wave2Lip application...
2025-06-06 10:00:30.519 | INFO     | app:shutdown_event:262 - Application shutdown completed
2025-06-06 10:00:33.447 | INFO     | app:startup_event:231 - Starting ILLUMINUS Wave2Lip application...
2025-06-06 10:00:33.466 | INFO     | app:startup_event:249 - Application startup completed
2025-06-06 10:01:51.281 | INFO     | app:generate_video:110 - Processing job dba074e6-1687-4f1a-a402-84dcfeb42437: video=1673_orig.mp4, audio=4653_orig.wav
2025-06-06 10:01:51.301 | INFO     | app:generate_video:125 - Files saved: video=165493 bytes, audio=376910 bytes
2025-06-06 10:01:51.302 | INFO     | app:get_pipeline_service:56 - Initializing pipeline service with device: cpu
2025-06-06 10:01:51.306 | INFO     | src.services.face_detection_service:__init__:46 - FaceDetectionService initialized with device: cpu, batch_size: 16
2025-06-06 10:01:51.307 | INFO     | src.services.video_processing_service:__init__:20 - VideoProcessingService initialized
2025-06-06 10:01:51.307 | INFO     | src.services.wave2lip_pipeline_service:__init__:65 - Wave2LipPipelineService initialized with device: cpu
2025-06-06 10:01:51.308 | INFO     | app:get_pipeline_service:65 - Pipeline service initialized successfully
2025-06-06 10:01:51.309 | INFO     | app:generate_video:134 - Starting pipeline processing with model: wav2lip
2025-06-06 10:01:51.309 | INFO     | src.services.wave2lip_pipeline_service:process_video_audio:116 - Loading video frames...
2025-06-06 10:01:51.360 | INFO     | src.services.video_processing_service:load_video_frames:57 - Reading video frames from: static/uploads/dba074e6-1687-4f1a-a402-84dcfeb42437_video.mp4 (FPS: 25.0)
2025-06-06 10:01:51.391 | INFO     | src.services.video_processing_service:load_video_frames:86 - Loaded 49 frames from video
2025-06-06 10:01:51.392 | INFO     | src.services.wave2lip_pipeline_service:process_video_audio:130 - Processing audio...
2025-06-06 10:01:51.479 | INFO     | src.services.wave2lip_pipeline_service:process_video_audio:134 - Video frames: 49, Audio chunks: 144
2025-06-06 10:01:51.480 | INFO     | src.services.wave2lip_pipeline_service:process_video_audio:141 - Adjusted to 49 frames/chunks
2025-06-06 10:01:51.480 | INFO     | src.services.wave2lip_pipeline_service:process_video_audio:144 - Processing faces...
2025-06-06 10:01:51.481 | INFO     | src.services.face_detection_service:process_video_frames:156 - Detecting faces in 49 frames...
2025-06-06 10:01:51.918 | INFO     | src.services.face_detection_service:_initialize_detector:57 - Face detector initialized successfully
2025-06-06 10:01:59.123 | INFO     | src.services.face_detection_service:process_video_frames:193 - Successfully processed 49 frames
2025-06-06 10:01:59.124 | INFO     | src.services.wave2lip_pipeline_service:process_video_audio:153 - Generating lip-sync video with wav2lip...
2025-06-06 10:01:59.125 | INFO     | src.services.wave2lip_pipeline_service:_get_wave2lip_servicer:70 - Initializing Wave2Lip servicer...
2025-06-06 10:02:00.687 | INFO     | src.services.wave2lip_pipeline_service:_get_wave2lip_servicer:75 - Wave2Lip servicer initialized
2025-06-06 10:02:03.365 | INFO     | src.services.video_processing_service:save_video_frames:131 - Video saved to: temp/temp_result.mp4 (49 frames, 25.0 FPS)
2025-06-06 10:02:03.893 | INFO     | src.services.video_processing_service:merge_video_audio:172 - Successfully merged video and audio: static/results/dba074e6-1687-4f1a-a402-84dcfeb42437_result.mp4
2025-06-06 10:02:03.896 | INFO     | src.services.wave2lip_pipeline_service:process_video_audio:196 - Pipeline completed successfully: {'output_path': 'static/results/dba074e6-1687-4f1a-a402-84dcfeb42437_result.mp4', 'processing_time': 12.586560726165771, 'inference_fps': 3.8930412418489806, 'frames_processed': 49, 'fps': 25.0, 'model_type': 'wav2lip'}
2025-06-06 10:02:03.897 | INFO     | src.services.wave2lip_pipeline_service:cleanup:327 - Cleaning up pipeline services...
2025-06-06 10:02:03.899 | INFO     | src.services.face_detection_service:cleanup:203 - Face detector cleaned up
2025-06-06 10:02:03.902 | INFO     | src.services.wave2lip_pipeline_service:cleanup:343 - Pipeline cleanup completed
2025-06-06 10:02:03.903 | INFO     | app:generate_video:165 - Job dba074e6-1687-4f1a-a402-84dcfeb42437 completed successfully: {'status': 'success', 'video_url': '/static/results/dba074e6-1687-4f1a-a402-84dcfeb42437_result.mp4', 'total_processing_time': 12.622259616851807, 'pipeline_processing_time': 12.586560726165771, 'inference_fps': 3.8930412418489806, 'frames_processed': 49, 'video_fps': 25.0, 'model_type': 'wav2lip', 'job_id': 'dba074e6-1687-4f1a-a402-84dcfeb42437'}
2025-06-06 10:02:49.712 | INFO     | app:generate_video:110 - Processing job 38e689d1-b193-4fd4-af51-8f94cd2f3216: video=Avatar.jpg, audio=4653_orig.wav
2025-06-06 10:02:49.729 | INFO     | app:generate_video:125 - Files saved: video=476424 bytes, audio=376910 bytes
2025-06-06 10:02:49.730 | INFO     | app:generate_video:134 - Starting pipeline processing with model: wav2lip
2025-06-06 10:02:49.731 | INFO     | src.services.wave2lip_pipeline_service:process_video_audio:116 - Loading video frames...
2025-06-06 10:02:49.764 | INFO     | src.services.video_processing_service:load_video_frames:57 - Reading video frames from: static/uploads/38e689d1-b193-4fd4-af51-8f94cd2f3216_video.mp4 (FPS: 25.0)
2025-06-06 10:02:49.780 | INFO     | src.services.video_processing_service:load_video_frames:86 - Loaded 1 frames from video
2025-06-06 10:02:49.781 | INFO     | src.services.wave2lip_pipeline_service:process_video_audio:130 - Processing audio...
2025-06-06 10:02:49.841 | INFO     | src.services.wave2lip_pipeline_service:process_video_audio:134 - Video frames: 1, Audio chunks: 144
2025-06-06 10:02:49.842 | INFO     | src.services.wave2lip_pipeline_service:process_video_audio:141 - Adjusted to 1 frames/chunks
2025-06-06 10:02:49.843 | INFO     | src.services.wave2lip_pipeline_service:process_video_audio:144 - Processing faces...
2025-06-06 10:02:49.843 | INFO     | src.services.face_detection_service:process_video_frames:156 - Detecting faces in 1 frames...
2025-06-06 10:02:50.115 | INFO     | src.services.face_detection_service:_initialize_detector:57 - Face detector initialized successfully
2025-06-06 10:02:57.461 | INFO     | src.services.face_detection_service:process_video_frames:193 - Successfully processed 1 frames
2025-06-06 10:02:57.462 | INFO     | src.services.wave2lip_pipeline_service:process_video_audio:153 - Generating lip-sync video with wav2lip...
2025-06-06 10:02:57.463 | INFO     | src.services.wave2lip_pipeline_service:_get_wave2lip_servicer:70 - Initializing Wave2Lip servicer...
2025-06-06 10:02:58.422 | INFO     | src.services.wave2lip_pipeline_service:_get_wave2lip_servicer:75 - Wave2Lip servicer initialized
2025-06-06 10:02:58.540 | INFO     | src.services.video_processing_service:save_video_frames:131 - Video saved to: temp/temp_result.mp4 (1 frames, 25.0 FPS)
2025-06-06 10:02:58.972 | INFO     | src.services.video_processing_service:merge_video_audio:172 - Successfully merged video and audio: static/results/38e689d1-b193-4fd4-af51-8f94cd2f3216_result.mp4
2025-06-06 10:02:58.975 | INFO     | src.services.wave2lip_pipeline_service:process_video_audio:196 - Pipeline completed successfully: {'output_path': 'static/results/38e689d1-b193-4fd4-af51-8f94cd2f3216_result.mp4', 'processing_time': 9.244652509689331, 'inference_fps': 0.10817064232018443, 'frames_processed': 1, 'fps': 25.0, 'model_type': 'wav2lip'}
2025-06-06 10:02:58.976 | INFO     | src.services.wave2lip_pipeline_service:cleanup:327 - Cleaning up pipeline services...
2025-06-06 10:02:58.979 | INFO     | src.services.face_detection_service:cleanup:203 - Face detector cleaned up
2025-06-06 10:02:58.983 | INFO     | src.services.wave2lip_pipeline_service:cleanup:343 - Pipeline cleanup completed
2025-06-06 10:02:58.985 | INFO     | app:generate_video:165 - Job 38e689d1-b193-4fd4-af51-8f94cd2f3216 completed successfully: {'status': 'success', 'video_url': '/static/results/38e689d1-b193-4fd4-af51-8f94cd2f3216_result.mp4', 'total_processing_time': 9.272374629974365, 'pipeline_processing_time': 9.244652509689331, 'inference_fps': 0.10817064232018443, 'frames_processed': 1, 'video_fps': 25.0, 'model_type': 'wav2lip', 'job_id': '38e689d1-b193-4fd4-af51-8f94cd2f3216'}
2025-06-06 10:04:04.893 | INFO     | app:generate_video:110 - Processing job 2d7c6cfb-0977-49c7-bb5d-68dfbdfcca4c: video=C4237E52-A05A-4435-B075-1A3A7AF1615D.mov, audio=4653_orig.wav
2025-06-06 10:04:04.911 | INFO     | app:generate_video:125 - Files saved: video=482152 bytes, audio=376910 bytes
2025-06-06 10:04:04.912 | INFO     | app:generate_video:134 - Starting pipeline processing with model: wav2lip
2025-06-06 10:04:04.912 | INFO     | src.services.wave2lip_pipeline_service:process_video_audio:116 - Loading video frames...
2025-06-06 10:04:04.928 | INFO     | src.services.video_processing_service:load_video_frames:57 - Reading video frames from: static/uploads/2d7c6cfb-0977-49c7-bb5d-68dfbdfcca4c_video.mp4 (FPS: 30.0)
2025-06-06 10:04:05.168 | INFO     | src.services.video_processing_service:load_video_frames:86 - Loaded 424 frames from video
2025-06-06 10:04:05.169 | INFO     | src.services.wave2lip_pipeline_service:process_video_audio:130 - Processing audio...
2025-06-06 10:04:05.213 | INFO     | src.services.wave2lip_pipeline_service:process_video_audio:134 - Video frames: 424, Audio chunks: 144
2025-06-06 10:04:05.219 | INFO     | src.services.wave2lip_pipeline_service:process_video_audio:141 - Adjusted to 144 frames/chunks
2025-06-06 10:04:05.230 | INFO     | src.services.wave2lip_pipeline_service:process_video_audio:144 - Processing faces...
2025-06-06 10:04:05.231 | INFO     | src.services.face_detection_service:process_video_frames:156 - Detecting faces in 144 frames...
2025-06-06 10:04:05.500 | INFO     | src.services.face_detection_service:_initialize_detector:57 - Face detector initialized successfully
2025-06-06 10:05:25.444 | ERROR    | src.services.wave2lip_pipeline_service:process_video_audio:200 - Pipeline processing failed: Face not detected in frame 0! Ensure the video contains a face in all frames.
2025-06-06 10:05:25.445 | INFO     | src.services.wave2lip_pipeline_service:cleanup:327 - Cleaning up pipeline services...
2025-06-06 10:05:25.446 | INFO     | src.services.face_detection_service:cleanup:203 - Face detector cleaned up
2025-06-06 10:05:25.447 | INFO     | src.services.wave2lip_pipeline_service:cleanup:343 - Pipeline cleanup completed
2025-06-06 10:05:25.447 | ERROR    | app:generate_video:170 - Error processing job 2d7c6cfb-0977-49c7-bb5d-68dfbdfcca4c: Face not detected in frame 0! Ensure the video contains a face in all frames.
2025-06-06 10:06:11.074 | INFO     | app:generate_video:110 - Processing job ce3c50a2-8bc3-436c-9d86-cf58b352622e: video=sun.mp4, audio=eng.wav
2025-06-06 10:06:11.115 | INFO     | app:generate_video:125 - Files saved: video=2217973 bytes, audio=1920078 bytes
2025-06-06 10:06:11.115 | INFO     | app:generate_video:134 - Starting pipeline processing with model: wav2lip
2025-06-06 10:06:11.116 | INFO     | src.services.wave2lip_pipeline_service:process_video_audio:116 - Loading video frames...
2025-06-06 10:06:11.134 | INFO     | src.services.video_processing_service:load_video_frames:57 - Reading video frames from: static/uploads/ce3c50a2-8bc3-436c-9d86-cf58b352622e_video.mp4 (FPS: 25.0)
2025-06-06 10:06:11.772 | INFO     | src.services.video_processing_service:load_video_frames:86 - Loaded 550 frames from video
2025-06-06 10:06:11.772 | INFO     | src.services.wave2lip_pipeline_service:process_video_audio:130 - Processing audio...
2025-06-06 10:06:12.079 | INFO     | src.services.wave2lip_pipeline_service:process_video_audio:134 - Video frames: 550, Audio chunks: 1497
2025-06-06 10:06:12.079 | INFO     | src.services.wave2lip_pipeline_service:process_video_audio:141 - Adjusted to 550 frames/chunks
2025-06-06 10:06:12.080 | INFO     | src.services.wave2lip_pipeline_service:process_video_audio:144 - Processing faces...
2025-06-06 10:06:12.080 | INFO     | src.services.face_detection_service:process_video_frames:156 - Detecting faces in 550 frames...
2025-06-06 10:06:12.348 | INFO     | src.services.face_detection_service:_initialize_detector:57 - Face detector initialized successfully
2025-06-06 10:11:06.698 | INFO     | app:startup_event:231 - Starting ILLUMINUS Wave2Lip application...
2025-06-06 10:11:06.717 | INFO     | app:startup_event:249 - Application startup completed
2025-06-06 10:11:38.773 | INFO     | app:generate_video:110 - Processing job 32dff4b9-0a70-4d7d-87d5-bf8ec5c44fef: video=sun.mp4, audio=sun.wav
2025-06-06 10:11:38.821 | INFO     | app:generate_video:125 - Files saved: video=2217973 bytes, audio=1983572 bytes
2025-06-06 10:11:38.822 | INFO     | app:get_pipeline_service:56 - Initializing pipeline service with device: cpu
2025-06-06 10:11:38.825 | INFO     | src.services.face_detection_service:__init__:46 - FaceDetectionService initialized with device: cpu, batch_size: 16
2025-06-06 10:11:38.825 | INFO     | src.services.video_processing_service:__init__:20 - VideoProcessingService initialized
2025-06-06 10:11:38.826 | INFO     | src.services.wave2lip_pipeline_service:__init__:65 - Wave2LipPipelineService initialized with device: cpu
2025-06-06 10:11:38.826 | INFO     | app:get_pipeline_service:65 - Pipeline service initialized successfully
2025-06-06 10:11:38.827 | INFO     | app:generate_video:134 - Starting pipeline processing with model: wav2lip
2025-06-06 10:11:38.827 | INFO     | src.services.wave2lip_pipeline_service:process_video_audio:116 - Loading video frames...
2025-06-06 10:11:38.858 | INFO     | src.services.video_processing_service:load_video_frames:57 - Reading video frames from: static/uploads/32dff4b9-0a70-4d7d-87d5-bf8ec5c44fef_video.mp4 (FPS: 25.0)
2025-06-06 10:11:39.760 | INFO     | src.services.video_processing_service:load_video_frames:86 - Loaded 550 frames from video
2025-06-06 10:11:39.761 | INFO     | src.services.wave2lip_pipeline_service:process_video_audio:130 - Processing audio...
2025-06-06 10:11:41.022 | INFO     | src.services.wave2lip_pipeline_service:process_video_audio:134 - Video frames: 550, Audio chunks: 559
2025-06-06 10:11:41.024 | INFO     | src.services.wave2lip_pipeline_service:process_video_audio:141 - Adjusted to 550 frames/chunks
2025-06-06 10:11:41.025 | INFO     | src.services.wave2lip_pipeline_service:process_video_audio:144 - Processing faces...
2025-06-06 10:11:41.026 | INFO     | src.services.face_detection_service:process_video_frames:156 - Detecting faces in 550 frames...
2025-06-06 10:11:41.372 | INFO     | src.services.face_detection_service:_initialize_detector:57 - Face detector initialized successfully
2025-06-06 10:17:18.018 | INFO     | app:startup_event:231 - Starting ILLUMINUS Wave2Lip application...
2025-06-06 10:17:18.054 | INFO     | app:startup_event:249 - Application startup completed
